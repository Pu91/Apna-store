<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Account</title>
</head>
<body>

<h2>My Account</h2>
<p id="userEmail"></p>
<button onclick="logout()">Logout</button>

<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm"

const supabase = createClient(
"https://ooiumaohawwtqtiodqcv.supabase.co",
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9vaXVtYW9oYXd3dHF0aW9kcWN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExNDQ1MjMsImV4cCI6MjA4NjcyMDUyM30.S_1J8CFMa1KJUYfk1VYeUcFRqUo23NEGzNlxr5fQsvA"
)

const { data: { user } } = await supabase.auth.getUser()

if(!user){
window.location.href = "login.html"
}else{
document.getElementById("userEmail").innerText = user.email
}

window.logout = async () => {
await supabase.auth.signOut()
window.location.href = "login.html"
}
</script>

</body>
</html>
